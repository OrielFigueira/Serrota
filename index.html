<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Serrota - E-commerce de Produtos Digitais</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  >

  <!-- Opção recomendada: jsDelivr -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    /* â”€â”€â”€ Tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    :root {
      --page-bg:      #8fafc8;          /* muted steel-blue outer bg  */
      --shell-bg:     #ffffff;
      --card-bg:      #ffffff;
      --img-bg:       #f1f3f5;          /* neutral gray card image bg  */
      --cat-card-bg:  #f3f4f6;          /* light gray category cards   */
      --hero-bg:      #1a3868;          /* deep navy hero              */
      --primary:      #2563eb;
      --primary-dark: #1d4ed8;
      --text-main:    #111827;
      --text-muted:   #6b7280;
      --border:       #e5e7eb;
      --radius:       12px;
      --radius-lg:    16px;
      --shadow:       0 24px 64px rgba(10,20,40,.22);
    }

    /* â”€â”€â”€ Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: "Inter", system-ui, sans-serif;
      background: var(--page-bg);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 36px 16px;
      -webkit-font-smoothing: antialiased;
    }

    /* â”€â”€â”€ Shell â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .page-shell {
      max-width: 1100px;
      width: 100%;
      background: var(--shell-bg);
      border-radius: 20px;
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    /* â”€â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 28px;
      background: #fff;
      border-bottom: 1px solid var(--border);
    }

    .header-left { display: flex; align-items: center; }
    .logo-svg    { height: 28px; width: auto; display: block; }

    /* center nav â€“ plain text links, no pill background */
    .header-center {
      display: flex;
      gap: 28px;
    }

    .header-center button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      padding: 4px 0;
      transition: color .15s;
    }

    .header-center button:hover,
    .header-center button.active { color: var(--primary); }

    /* right side â€“ cart icon + CTA */
    .header-right {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .icon-btn {
      width: 34px; height: 34px;
      display: flex; align-items: center; justify-content: center;
      background: #f9fafb;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 15px; color: #374151;
      cursor: pointer;
      transition: background .15s;
    }
    .icon-btn:hover { background: #e5edff; color: var(--primary); }

    .account-label {
      display: flex; align-items: center; gap: 7px;
      cursor: pointer; font-size: 13px; font-weight: 500; color: #374151;
    }
    .account-label:hover { color: var(--primary); }

    /* the blue "Entrar" CTA â€“ matches "Buy Template" button in ref */
    .btn-cta {
      padding: 9px 20px;
      border-radius: var(--radius);
      border: none;
      background: var(--primary);
      color: #fff;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: background .15s;
    }
    .btn-cta:hover { background: var(--primary-dark); }

    /* â”€â”€â”€ Main â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    main { padding: 24px 28px 36px; }

    /* â”€â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .hero {
      background: linear-gradient(135deg, #1e3a8a, #1d4ed8);
      border-radius: var(--radius-lg);
      padding: 32px;
      color: #fff;
      position: relative;
      overflow: hidden;
      min-height: 220px;
      display: flex;
      align-items: center;
    }

    /* decorative right-side glow */
    .hero::before {
      content: "";
      position: absolute;
      right: 60px; top: 0;
      width: 320px; height: 100%;
      background: radial-gradient(ellipse 60% 80% at 70% 40%,
        rgba(99,146,255,.45) 0%, transparent 70%);
      pointer-events: none;
    }

    .hero::after { display: none; }

    .hero-content  { position: relative; z-index: 1; max-width: 460px; }
    .hero-kicker   { font-size: 11px; letter-spacing: .16em; text-transform: uppercase; color: #bfdbfe; margin-bottom: 8px; }
    .hero-title    { font-size: 30px; font-weight: 700; line-height: 1.2; margin-bottom: 10px; }
    .hero-subtitle { font-size: 13px; color: #e5e7eb; line-height: 1.7; margin-bottom: 18px; }
    .hero-actions  { display: flex; gap: 12px; }

    /* hero buttons */
    .btn-primary {
      padding: 10px 22px;
      border-radius: var(--radius);
      border: none;
      background: #ffffff;
      color: #111827;
      font-size: 14px; font-weight: 600;
      cursor: pointer;
      transition: background .15s, color .15s;
    }
    .btn-primary:hover { background: #e5edff; }

    .btn-secondary {
      padding: 10px 22px;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.45);
      background: transparent;
      color: #fff;
      font-size: 14px; font-weight: 500;
      cursor: pointer;
      transition: background .15s;
    }
    .btn-secondary:hover { background: rgba(255,255,255,.1); }

    /* â”€â”€â”€ Section commons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .section { margin-top: 36px; }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 18px;
    }

    .section-title    { font-size: 26px; font-weight: 800; color: var(--text-main); }
    .section-subtitle { font-size: 13px; color: var(--text-muted); margin-top: 4px; }

    /* "See All Products" style â€“ matches blue filled button in ref */
    .btn-ghost {
      padding: 9px 18px;
      border-radius: var(--radius);
      border: none;
      background: var(--primary);
      color: #fff;
      font-size: 13px; font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: background .15s;
    }
    .btn-ghost:hover { background: var(--primary-dark); }

    /* category nav arrows */
    .nav-arrows { display: flex; gap: 8px; }
    .nav-arrow {
      width: 32px; height: 32px;
      border-radius: 50%;
      border: 1.5px solid #d1d5db;
      background: #fff;
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; color: #374151;
      cursor: pointer;
      transition: border-color .15s, color .15s;
    }
    .nav-arrow:hover { border-color: var(--primary); color: var(--primary); }

    /* â”€â”€â”€ Product cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }

    .product-card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      padding: 14px 14px 16px;
      border: 1px solid var(--border);
      box-shadow: 0 2px 8px rgba(0,0,0,.06);
      display: flex;
      flex-direction: column;
    }

    /* tall neutral-gray image area */
    .product-image {
      background: var(--img-bg);
      border-radius: 10px;
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 12px;
      overflow: hidden;
    }

    .product-image img {
      max-width: 72%; max-height: 72%;
      object-fit: contain;
    }

    .product-image i {
      font-size: 44px;
      color: #9ca3af;
    }

    .product-category { font-size: 11px; text-transform: uppercase; letter-spacing: 0.16em; color: #9ca3af; }
    .product-name     { font-size: 15px; font-weight: 700; margin-top: 2px; line-height: 1.3; }
    .product-price { font-size: 14px; font-weight: 600; color: var(--primary-dark); margin-top: 4px; }

    .product-meta-row {
      margin-top: auto;
      margin-bottom: 10px;
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
    }

    .product-description { font-size: 12px; color: var(--text-muted); margin-top: 4px; }

    .product-badge {
      font-size: 10px; font-weight: 700;
      color: #b91c1c; background: #fee2e2;
      padding: 3px 8px; border-radius: 999px;
      text-transform: uppercase; letter-spacing: .1em;
    }

    .stock-label { font-size: 11px; color: #9ca3af; margin-left: auto; }

    .btn-add-cart {
      width: 100%;
      padding: 9px 12px;
      border-radius: var(--radius);
      border: none;
      background: var(--primary);
      color: #fff;
      font-size: 13px; font-weight: 600;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center; gap: 6px;
      transition: background .15s;
    }
    .btn-add-cart:hover { background: var(--primary-dark); }
    .btn-add-cart.disabled,
    .btn-add-cart.disabled:hover { background: #9ca3af; cursor: not-allowed; }

    /* â”€â”€â”€ Category cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }

    .category-card {
      background: var(--cat-card-bg);
      border-radius: var(--radius-lg);
      padding: 20px 20px 0;
      display: flex;
      flex-direction: column;
      height: 240px;
      overflow: hidden;
      border: 1px solid #e9eaec;
    }

    .category-name        { font-size: 17px; font-weight: 700; margin-bottom: 6px; }
    .category-description { font-size: 12px; color: var(--text-muted); line-height: 1.55; margin-bottom: 10px; }

    .category-link {
      font-size: 13px; font-weight: 600;
      color: var(--primary); cursor: pointer;
      display: flex; align-items: center; gap: 4px;
    }
    .category-link:hover { text-decoration: underline; }

    .category-img-area {
      flex: 1;
      display: flex; align-items: flex-end; justify-content: center;
      overflow: hidden;
    }
    .category-img-area i {
      font-size: 80px;
      color: #bbc0c8;
      margin-bottom: -10px;
    }

    /* â”€â”€â”€ Benefits / CTA strip â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .benefits {
      margin-top: 36px;
      background: #f3f4f6;
      border-radius: var(--radius-lg);
      padding: 44px 40px 36px;
      text-align: center;
    }

    .benefits-title    { font-size: 30px; font-weight: 800; line-height: 1.2; margin-bottom: 10px; }
    .benefits-subtitle { font-size: 14px; color: var(--text-muted); margin-bottom: 32px; max-width: 560px; margin-left: auto; margin-right: auto; }

    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      text-align: center;
      margin-bottom: 28px;
    }

    /* outlined icon box â€“ exactly like reference */
    .benefit-icon-box {
      width: 48px; height: 48px;
      border-radius: 10px;
      border: 1.5px solid #d1d5db;
      background: #fff;
      display: flex; align-items: center; justify-content: center;
      margin: 0 auto 12px;
      font-size: 20px; color: #374151;
    }

    .benefit-item-title { font-size: 15px; font-weight: 700; margin-bottom: 6px; }
    .benefit-item-text  { font-size: 13px; color: var(--text-muted); line-height: 1.55; }

    /* â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    footer {
      margin-top: 28px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
      font-size: 13px;
      color: var(--text-muted);
    }

    .footer-brand       { max-width: 260px; }
    .footer-title       { font-weight: 700; font-size: 14px; color: var(--text-main); margin-bottom: 6px; }
    .footer-columns     { display: flex; gap: 32px; flex-wrap: wrap; }
    .footer-col-title   { font-weight: 600; color: var(--text-main); margin-bottom: 8px; font-size: 13px; }
    .footer-link        { display: block; margin-bottom: 5px; cursor: pointer; }
    .footer-link:hover  { color: var(--text-main); }

    /* â”€â”€â”€ Side panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .panel-overlay {
      position: fixed; inset: 0;
      background: rgba(15,23,42,.35);
      display: none;
      align-items: center; justify-content: center;
      z-index: 40;
    }

    .panel {
      background: #fff;
      border-radius: var(--radius-lg);
      width: 90%; max-width: 520px; max-height: 80vh;
      padding: 22px 24px;
      box-shadow: var(--shadow);
      overflow-y: auto;
    }

    .panel-header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 14px;
    }

    .panel-title { font-size: 17px; font-weight: 700; }
    .panel-close { border: none; background: transparent; font-size: 18px; cursor: pointer; color: #6b7280; }

    .login-form { display: flex; flex-direction: column; gap: 10px; margin-top: 8px; }
    .login-form label { font-size: 13px; font-weight: 500; }
    .login-form input {
      width: 100%; margin-top: 4px; padding: 8px 10px;
      border-radius: 8px; border: 1px solid #d1d5db; font-size: 14px;
    }

    .btn-login {
      margin-top: 6px; padding: 10px 14px;
      border-radius: var(--radius);
      border: none; background: var(--primary); color: #fff;
      font-size: 14px; font-weight: 600; cursor: pointer;
      width: 100%;
    }
    .btn-login:hover { background: var(--primary-dark); }

    .status-message       { font-size: 13px; margin-top: 8px; }
    .status-message.error { color: #b91c1c; }
    .status-message.success { color: #15803d; }

    /* â”€â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 900px) {
      .header-center { display: none; }
      .products-grid, .categories-grid, .benefits-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 640px) {
      body { padding: 12px 8px; }
      main { padding: 16px 16px 24px; }
      .hero { padding: 32px 24px 0; }
      .hero-title { font-size: 26px; }
      .section-title { font-size: 20px; }
      .benefits-title { font-size: 22px; }
      .products-grid, .categories-grid, .benefits-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <header>
      <div class="header-left">
        <!-- Logo SVG embutido -->
        <svg class="logo-svg" viewBox="0 0 260 70" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 45 L95 45 L95 20 L40 20 L30 10 L10 10 Z" fill="#000000"/>
          <rect x="55" y="16" width="22" height="16" fill="#ffffff"/>
          <path d="M10 45 L95 45 L95 55 L10 55 Z" fill="#000000"/>
          <g fill="#ffffff">
            <polygon points="12,55 16,55 14,60"/>
            <polygon points="18,55 22,55 20,60"/>
            <polygon points="24,55 28,55 26,60"/>
            <polygon points="30,55 34,55 32,60"/>
            <polygon points="36,55 40,55 38,60"/>
            <polygon points="42,55 46,55 44,60"/>
            <polygon points="48,55 52,55 50,60"/>
            <polygon points="54,55 58,55 56,60"/>
            <polygon points="60,55 64,55 62,60"/>
            <polygon points="66,55 70,55 68,60"/>
            <polygon points="72,55 76,55 74,60"/>
            <polygon points="78,55 82,55 80,60"/>
            <polygon points="84,55 88,55 86,60"/>
            <polygon points="90,55 94,55 92,60"/>
          </g>
          <text x="110" y="40" font-family="Inter, system-ui, sans-serif" font-weight="700" font-size="30" fill="#000000">
            serrota
          </text>
          <g fill="#000000">
            <polygon points="112,52 116,52 114,56"/>
            <polygon points="118,52 122,52 120,56"/>
            <polygon points="124,52 128,52 126,56"/>
            <polygon points="130,52 134,52 132,56"/>
            <polygon points="136,52 140,52 138,56"/>
            <polygon points="142,52 146,52 144,56"/>
            <polygon points="148,52 152,52 150,56"/>
            <polygon points="154,52 158,52 156,56"/>
            <polygon points="160,52 164,52 162,56"/>
            <polygon points="166,52 170,52 168,56"/>
            <polygon points="172,52 176,52 174,56"/>
            <polygon points="178,52 182,52 180,56"/>
            <polygon points="184,52 188,52 186,56"/>
            <polygon points="190,52 194,52 192,56"/>
            <polygon points="196,52 200,52 198,56"/>
            <polygon points="202,52 206,52 204,56"/>
            <polygon points="208,52 212,52 210,56"/>
            <polygon points="214,52 218,52 216,56"/>
            <polygon points="220,52 224,52 222,56"/>
            <polygon points="226,52 230,52 228,56"/>
            <polygon points="232,52 236,52 234,56"/>
            <polygon points="238,52 242,52 240,56"/>
          </g>
        </svg>
      </div>

      <nav class="header-center"></nav>

      <div class="header-right">
        <button class="icon-btn" onclick="openPanel('mensagens')" title="Mensagens">
          <i class="fa-regular fa-message"></i>
        </button>
        <button class="icon-btn" onclick="openPanel('notificacoes')" title="Notificacoes">
          <i class="fa-regular fa-bell"></i>
        </button>
        <button class="icon-btn" onclick="openPanel('carrinho')" title="Carrinho">
          <i class="fa-solid fa-cart-shopping"></i>
        </button>
        <div class="account-label" onclick="openPanel('conta')" title="Minha conta">
          <div class="icon-btn">
            <i class="fa-regular fa-user"></i>
          </div>
          <span id="accountLabelText">Entrar / Criar conta</span>
        </div>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="hero-content">
          <div class="hero-kicker">Produtos digitais premium</div>
          <h1 class="hero-title">Eleve seus projetos com a Serrota</h1>
          <p class="hero-subtitle">
            E-books, cursos, templates e ferramentas online com acesso imediato. Estoque em tempo real,
            pagamento por Pix e entregas sem espera.
          </p>
          <div class="hero-actions">
            <button class="btn-primary" onclick="scrollToFeatured()">Ver produtos em destaque</button>
            <button class="btn-secondary" onclick="openPanel('compras')">Ver minhas compras</button>
          </div>
        </div>
      </section>

      <section class="section" id="featured-section">
        <div class="section-header">
          <div>
            <h2 class="section-title">Produtos em destaque</h2>
            <p class="section-subtitle">Selecionados para turbinar seus projetos digitais.</p>
          </div>
          <button class="btn-ghost" onclick="setActiveCategory('todos')">Ver todos os produtos</button>
        </div>
        <div class="products-grid" id="featured-products"></div>
      </section>

      <section class="section">
        <div class="section-header">
          <div>
            <h2 class="section-title">Comprar por categoria</h2>
          </div>
          <div class="nav-arrows">
            <button class="nav-arrow"><i class="fa-solid fa-chevron-left"></i></button>
            <button class="nav-arrow"><i class="fa-solid fa-chevron-right"></i></button>
          </div>
        </div>
        <div class="categories-grid" id="categories-grid">
        </div>
      </section>

      <section class="benefits">
        <h2 class="benefits-title">Experiencia de compra agil com a Serrota</h2>
        <p class="benefits-subtitle">
          Pague por Pix via Mercado Pago, receba a confirmacao automatica e acesse seus arquivos digitais em poucos instantes.
        </p>
        <div class="benefits-grid">
          <div>
            <div class="benefit-icon-box"><i class="fa-regular fa-paper-plane"></i></div>
            <div class="benefit-item-title">Entrega imediata</div>
            <p class="benefit-item-text">
              Assim que o pagamento for aprovado, o acesso e liberado na sua conta.
            </p>
          </div>
          <div>
            <div class="benefit-icon-box"><i class="fa-regular fa-credit-card"></i></div>
            <div class="benefit-item-title">Pix via Mercado Pago</div>
            <p class="benefit-item-text">
              Integracao pronta para gerar QR Code e acompanhar o status em tempo real.
            </p>
          </div>
          <div>
            <div class="benefit-icon-box"><i class="fa-solid fa-shield-halved"></i></div>
            <div class="benefit-item-title">Conta segura</div>
            <p class="benefit-item-text">
              Login, sessao e estoque controlados pelo Supabase.
            </p>
          </div>
        </div>
        <button class="btn-primary" onclick="setActiveCategory('todos')">Comecar a comprar</button>
      </section>

      <footer>
        <div class="footer-brand">
          <div class="footer-title">Serrota - Ferramentas digitais afiadas</div>
          <p>
            E-commerce focado em produtos digitais de alta qualidade, pensado para quem quer executar com precisao.
          </p>
        </div>
        <div class="footer-columns">
          <div>
            <div class="footer-col-title">Navegacao</div>
            <span class="footer-link" onclick="setActiveCategory('todos')">Categorias</span>
            <span class="footer-link" onclick="openPanel('compras')">Meus pedidos</span>
            <span class="footer-link" onclick="openPanel('conta')">Minha conta</span>
          </div>
          <div>
            <div class="footer-col-title">Suporte</div>
            <span class="footer-link" onclick="openPanel('mensagens')">Mensagens</span>
            <span class="footer-link">E-mail: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dba8aeabb4a9afbe9ba8bea9a9b4afbaf5bfb2bcb2afbab7">[email&#160;protected]</a></span>
          </div>
        </div>
      </footer>
    </main>
  </div>

  <div class="panel-overlay" id="panelOverlay">
    <div class="panel" id="panelContent"></div>
  </div>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    const SUPABASE_URL = "https://tgtphaevkztzgekfhquu.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRndHBoYWV2a3p0emdla2ZocXV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMjg4NjksImV4cCI6MjA4NzYwNDg2OX0.41aby7i4wEllirV3HJTcsgTOzNtc76oca07VZ7qzlFo";

let supabaseClient = null;
if (window.supabase && SUPABASE_URL && SUPABASE_ANON_KEY) {
  supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
}

    const state = {
      products: [],
      filteredCategory: "todos",
      cart: [],
      session: null
    };

    async function loadProducts() {
      const featuredContainer = document.getElementById("featured-products");
      featuredContainer.innerHTML = "<p style='font-size:13px;color:#6b7280;'>Carregando produtos...</p>";

      try {
        if (!supabaseClient) {
          state.products = [
            { id: 1, name: "Pack de Templates Notion", price: 79.9, category: "Templates", image_url: "", stock: 999 },
            { id: 2, name: "Curso Completo de Automacao", price: 249.9, category: "Cursos", image_url: "", stock: 250 },
            { id: 3, name: "E-book Serrota de Produtividade", price: 59.9, category: "E-books", image_url: "", stock: 999 }
          ];
        } else {
          const { data, error } = await supabaseClient
            .from("products")
            .select("*")
            .order("is_featured", { ascending: false });

          if (error) throw error;
          state.products = data || [];
        }
      } catch (e) {
        console.error(e);
        featuredContainer.innerHTML =
          "<p style='font-size:13px;color:#b91c1c;'>Erro ao carregar produtos. Verifique a configuracao do Supabase.</p>";
        return;
      }

      renderProducts();
      renderCategoryCards();
    }

    function renderProducts() {
      const container = document.getElementById("featured-products");
      container.innerHTML = "";

      const list = state.products.filter(p => {
        if (state.filteredCategory === "todos") return true;
        return p.category === state.filteredCategory;
      });

      if (!list.length) {
        container.innerHTML =
          "<p style='font-size:13px;color:#6b7280;'>Nenhum produto encontrado para esta categoria.</p>";
        return;
      }

      list.forEach(product => {
        const card = document.createElement("article");
        card.className = "product-card";

        const imgDiv = document.createElement("div");
        imgDiv.className = "product-image";

        if (product.image_url) {
          const img = document.createElement("img");
          img.src = product.image_url;
          img.alt = product.name;
          imgDiv.appendChild(img);
        } else {
          imgDiv.innerHTML =
            "<i class='fa-solid fa-screwdriver-wrench' style='font-size:36px;color:#1d4ed8;'></i>";
        }

        const cat = document.createElement("div");
        cat.className = "product-category";
        cat.textContent = product.category || "Digital";

        const name = document.createElement("div");
        name.className = "product-name";
        name.textContent = product.name;

        const description = document.createElement("div");
        description.className = "product-description";
        description.textContent = product.description || "";

        const price = document.createElement("div");
        price.className = "product-price";
        price.textContent = "R$ " + (product.price || 0).toFixed(2).replace(".", ",");

        const metaRow = document.createElement("div");
        metaRow.className = "product-meta-row";

        const hasStock = product.stock == null || product.stock > 0;

        if (product.instant_delivery) {
          const badge = document.createElement("div");
          badge.className = "product-badge";
          badge.textContent = "Entrega imediata";
          metaRow.appendChild(badge);
        }

        const stock = document.createElement("div");
        stock.className = "stock-label";
        stock.textContent =
          product.stock != null ? "Disponivel: " + product.stock : "Estoque em tempo real";

        metaRow.appendChild(stock);

        const btn = document.createElement("button");
        btn.className = "btn-add-cart";

        if (hasStock) {
          btn.innerHTML = "<i class='fa-solid fa-cart-plus'></i><span>Adicionar ao carrinho</span>";
          btn.onclick = function () { addToCart(product); };
        } else {
          btn.classList.add("disabled");
          btn.disabled = true;
          btn.innerHTML = "<span>Indisponivel</span>";
        }

        card.appendChild(imgDiv);
        card.appendChild(cat);
        card.appendChild(name);
        card.appendChild(description);
        card.appendChild(price);
        card.appendChild(metaRow);
        card.appendChild(btn);

        container.appendChild(card);
      });
    }

    function renderCategoryCards() {
      var container = document.getElementById("categories-grid");
      if (!container) return;

      container.innerHTML = "";

      var seen = {};
      for (var i = 0; i < state.products.length; i++) {
        var cat = state.products[i].category;
        if (!cat) continue;
        if (seen[cat]) continue;
        seen[cat] = true;

        var card = document.createElement("div");
        card.className = "category-card";

        var top = document.createElement("div");

        var nameDiv = document.createElement("div");
        nameDiv.className = "category-name";
        nameDiv.textContent = cat;

        var descDiv = document.createElement("div");
        descDiv.className = "category-description";
        descDiv.textContent = "Veja os produtos da categoria " + cat + ".";

        top.appendChild(nameDiv);
        top.appendChild(descDiv);

        var linkDiv = document.createElement("div");
        linkDiv.className = "category-link";
        linkDiv.textContent = "Ver " + cat.toLowerCase() + " ->";
        linkDiv.onclick = (function (catName) {
          return function () { setActiveCategory(catName); };
        })(cat);

        card.appendChild(top);
        card.appendChild(linkDiv);
        container.appendChild(card);
      }
    }

    function setActiveCategory(category) {
      state.filteredCategory = category;
      var buttons = document.querySelectorAll(".header-center button");
      for (var i = 0; i < buttons.length; i++) {
        var btn = buttons[i];
        btn.classList.toggle("active", btn.getAttribute("data-category") === category);
      }
      renderProducts();
      scrollToFeatured();
    }

    function scrollToFeatured() {
      var section = document.getElementById("featured-section");
      if (section && section.scrollIntoView) {
        section.scrollIntoView({ behavior: "smooth" });
      }
    }

    function addToCart(product) {
      var exists = null;
      for (var i = 0; i < state.cart.length; i++) {
        if (state.cart[i].product.id === product.id) {
          exists = state.cart[i];
          break;
        }
      }
      if (exists) {
        exists.quantity += 1;
      } else {
        state.cart.push({ product: product, quantity: 1 });
      }
      openPanel("carrinho");
    }

    function renderCartPanel() {
      var panel = document.getElementById("panelContent");
      if (!state.cart.length) {
        panel.innerHTML =
          "<div class='panel-header'><h3 class='panel-title'>Carrinho de compras</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
          "<p style='font-size:13px;color:#6b7280;'>Seu carrinho esta vazio.</p>";
        return;
      }

      var itemsHtml = "";
      var total = 0;
      for (var i = 0; i < state.cart.length; i++) {
        var item = state.cart[i];
        var lineTotal = item.product.price * item.quantity;
        total += lineTotal;
        itemsHtml +=
          "<div style='display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;font-size:13px;'>" +
            "<div>" +
              "<div style='font-weight:500;'>" + item.product.name + "</div>" +
              "<div style='color:#6b7280;'>Qtd: " + item.quantity + "</div>" +
            "</div>" +
            "<div style='display:flex;align-items:center;gap:6px;'>" +
              "<button style='width:24px;height:24px;border-radius:999px;border:1px solid #d1d5db;background:#f9fafb;cursor:pointer;' onclick='changeCartQty(" + i + ",-1)'>-</button>" +
              "<span>" + item.quantity + "</span>" +
              "<button style='width:24px;height:24px;border-radius:999px;border:1px solid #d1d5db;background:#f9fafb;cursor:pointer;' onclick='changeCartQty(" + i + ",1)'>+</button>" +
              "<div style='font-weight:600;color:#1d4ed8;margin-left:8px;'>R$ " +
                lineTotal.toFixed(2).replace('.', ',') +
              "</div>" +
            "</div>" +
          "</div>";
      }

      panel.innerHTML =
        "<div class='panel-header'><h3 class='panel-title'>Carrinho de compras</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
        "<div>" + itemsHtml + "</div>" +
        "<hr style='border:none;border-top:1px solid #e5e7eb;margin:10px 0;' />" +
        "<div style='display:flex;justify-content:space-between;align-items:center;font-size:14px;margin-bottom:10px;'>" +
        "<span>Total</span><strong>R$ " + total.toFixed(2).replace('.', ',') + "</strong></div>" +
        "<button class='btn-primary' style='width:100%;' onclick='payWithPix()'>Finalizar com Pix (Mercado Pago)</button>" +
        "<p style='font-size:11px;color:#6b7280;margin-top:6px;'>O pagamento e processado via Mercado Pago. Depois da confirmacao, voce recebe acesso imediato.</p>";
    }

    function changeCartQty(index, delta) {
      var item = state.cart[index];
      if (!item) return;
      item.quantity += delta;
      if (item.quantity <= 0) {
        state.cart.splice(index, 1);
      }
      renderCartPanel();
    }

    function payWithPix() {
      alert("Aqui voce integra com seu backend ou Edge Function do Supabase para criar a preferencia Pix no Mercado Pago.");
    }

    async function checkSession() {
      if (!supabaseClient) return;
      var result = await supabaseClient.auth.getSession();
      state.session = result.data.session;
      updateAccountLabel();
    }

    function updateAccountLabel() {
      var label = document.getElementById("accountLabelText");
      if (state.session && state.session.user) {
        label.textContent = "Minha conta";
      } else {
        label.textContent = "Entrar / Criar conta";
      }
    }

    async function handleLogin(event) {
      event.preventDefault();
      var email = document.getElementById("loginEmail").value;
      var password = document.getElementById("loginPassword").value;
      var status = document.getElementById("loginStatus");
      status.textContent = "Entrando...";
      status.className = "status-message";

      try {
        if (!supabaseClient) { throw new Error("Supabase nao configurado."); }
        var response = await supabaseClient.auth.signInWithPassword({ email: email, password: password });
        if (response.error) { throw response.error; }
        state.session = response.data.session;
        status.textContent = "Login realizado com sucesso.";
        status.className = "status-message success";
        updateAccountLabel();
      } catch (e) {
        status.textContent = e.message || "Erro ao fazer login.";
        status.className = "status-message error";
      }
    }

    async function loginWithGoogle() {
      if (!supabaseClient) {
        alert("Supabase nao configurado.");
        return;
      }
      try {
        var resp = await supabaseClient.auth.signInWithOAuth({
          provider: "google",
          options: { redirectTo: window.location.origin }
        });
        if (resp.error) { throw resp.error; }
      } catch (e) {
        alert(e.message || "Erro ao iniciar login com Google.");
      }
    }

    async function handleSignup(event) {
      event.preventDefault();
      var email = document.getElementById("signupEmail").value;
      var password = document.getElementById("signupPassword").value;
      var status = document.getElementById("signupStatus");
      status.textContent = "Criando conta...";
      status.className = "status-message";

      try {
        if (!supabaseClient) { throw new Error("Supabase nao configurado."); }
        var resp = await supabaseClient.auth.signUp({
          email: email,
          password: password,
          options: { emailRedirectTo: window.location.origin }
        });
        if (resp.error) { throw resp.error; }
        status.textContent = "Conta criada. Verifique seu email para confirmar o cadastro.";
        status.className = "status-message success";
      } catch (e) {
        status.textContent = e.message || "Erro ao criar conta.";
        status.className = "status-message error";
      }
    }

    async function handleSendResetEmail() {
      var status = document.getElementById("resetStatus");
      status.textContent = "Enviando email...";
      status.className = "status-message";

      try {
        if (!supabaseClient) { throw new Error("Supabase nao configurado."); }
        if (!state.session || !state.session.user) {
          throw new Error("Voce precisa estar logado para trocar a senha.");
        }
        var email = state.session.user.email;
        var resp = await supabaseClient.auth.resetPasswordForEmail(email, {
          redirectTo: window.location.origin + "#senha-atualizada"
        });
        if (resp.error) { throw resp.error; }
        status.textContent = "Email enviado. Acesse o link recebido para definir a nova senha.";
        status.className = "status-message success";
      } catch (e) {
        status.textContent = e.message || "Erro ao enviar email.";
        status.className = "status-message error";
      }
    }

    async function logout() {
      if (!supabaseClient) return;
      await supabaseClient.auth.signOut();
      state.session = null;
      updateAccountLabel();
      renderAccountPanel();
    }

    function renderAccountPanel() {
      var panel = document.getElementById("panelContent");

      if (state.session && state.session.user) {
        panel.innerHTML =
          "<div class='panel-header'><h3 class='panel-title'>Minha conta</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
          "<p style='font-size:13px;color:#6b7280;margin-bottom:8px;'>Logado como <strong>" + state.session.user.email + "</strong></p>" +
          "<button class='btn-ghost' style='margin-bottom:14px;' onclick='logout()'>Sair</button>" +
          "<hr style='border:none;border-top:1px solid #e5e7eb;margin:10px 0 14px 0;' />" +
          "<h4 style='font-size:14px;font-weight:600;margin-bottom:6px;'>Trocar senha</h4>" +
          "<p style='font-size:13px;color:#6b7280;margin-bottom:8px;'>Enviaremos um email para <strong>" + state.session.user.email + "</strong> com link para redefinir sua senha.</p>" +
          "<button class='btn-login' type='button' onclick='handleSendResetEmail()'>Enviar email para trocar senha</button>" +
          "<div id='resetStatus' class='status-message'></div>";
        return;
      }

      panel.innerHTML =
        "<div class='panel-header'><h3 class='panel-title'>Minha conta</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
        "<div style='display:flex;gap:8px;margin-bottom:12px;'>" +
        "<button id='tabLogin' class='btn-ghost' style='flex:1;'>Entrar</button>" +
        "<button id='tabSignup' class='btn-ghost' style='flex:1;'>Criar conta</button></div>" +
        "<div id='loginSection'>" +
        "<form class='login-form' onsubmit='handleLogin(event)'>" +
        "<div><label>E-mail</label><input type='email' id='loginEmail' required /></div>" +
        "<div><label>Senha</label><input type='password' id='loginPassword' required /></div>" +
        "<button class='btn-login' type='submit'>Entrar</button>" +
        "<div id='loginStatus' class='status-message'></div></form>" +
        "<div style='margin-top:12px;text-align:center;'><span style='font-size:12px;color:#6b7280;'>ou</span></div>" +
        "<button type='button' onclick='loginWithGoogle()' " +
        "style='margin-top:10px;width:100%;padding:9px 14px;border-radius:999px;border:1px solid #d1d5db;background:#ffffff;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;'>" +
        "<i class='fa-brands fa-google'></i><span>Entrar com Google</span></button></div>" +
        "<div id='signupSection' style='display:none;margin-top:4px;'>" +
        "<form class='login-form' onsubmit='handleSignup(event)'>" +
        "<div><label>E-mail</label><input type='email' id='signupEmail' required /></div>" +
        "<div><label>Senha</label><input type='password' id='signupPassword' required /></div>" +
        "<button class='btn-login' type='submit'>Criar conta</button>" +
        "<p style='font-size:11px;color:#6b7280;margin-top:4px;'>Voce recebera um email com link para confirmar seu cadastro.</p>" +
        "<div id='signupStatus' class='status-message'></div></form></div>";

      var tabLogin = panel.querySelector("#tabLogin");
      var tabSignup = panel.querySelector("#tabSignup");
      var loginSection = panel.querySelector("#loginSection");
      var signupSection = panel.querySelector("#signupSection");

      function activate(tab) {
        if (tab === "login") {
          loginSection.style.display = "block";
          signupSection.style.display = "none";
          tabLogin.style.background = "#e5edff";
          tabSignup.style.background = "#f9fafb";
        } else {
          loginSection.style.display = "none";
          signupSection.style.display = "block";
          tabSignup.style.background = "#e5edff";
          tabLogin.style.background = "#f9fafb";
        }
      }

      tabLogin.onclick = function () { activate("login"); };
      tabSignup.onclick = function () { activate("signup"); };
      activate("login");
    }

    function renderMessagesPanel() {
      var panel = document.getElementById("panelContent");
      panel.innerHTML =
        "<div class='panel-header'><h3 class='panel-title'>Mensagens</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
        "<p style='font-size:13px;color:#6b7280;'>Central para contato e suporte. Integre com uma tabela \"messages\" no Supabase.</p>";
    }

    function renderPurchasesPanel() {
      var panel = document.getElementById("panelContent");
      panel.innerHTML =
        "<div class='panel-header'><h3 class='panel-title'>Minhas compras</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
        "<p style='font-size:13px;color:#6b7280;'>Liste aqui os pedidos a partir da tabela \"purchases\" do Supabase.</p>";
    }

    function renderNotificationsPanel() {
      var panel = document.getElementById("panelContent");
      panel.innerHTML =
        "<div class='panel-header'><h3 class='panel-title'>Notificacoes</h3><button class='panel-close' onclick='closePanel()'>&times;</button></div>" +
        "<p style='font-size:13px;color:#6b7280;'>Area para avisos de pagamento, atualizacoes de pedidos e novidades.</p>";
    }

    function openPanel(type) {
      var overlay = document.getElementById("panelOverlay");
      overlay.style.display = "flex";

      if (type === "carrinho") renderCartPanel();
      else if (type === "conta") renderAccountPanel();
      else if (type === "mensagens") renderMessagesPanel();
      else if (type === "compras") renderPurchasesPanel();
      else if (type === "notificacoes") renderNotificationsPanel();
    }

    function closePanel() {
      document.getElementById("panelOverlay").style.display = "none";
    }

    document.getElementById("panelOverlay").addEventListener("click", function(e) {
      if (e.target === this) closePanel();
    });

    window.addEventListener("DOMContentLoaded", function () {
      checkSession();
      loadProducts();
    });
  </script>
</body>
</html>